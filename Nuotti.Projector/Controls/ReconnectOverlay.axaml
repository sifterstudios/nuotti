<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Nuotti.Projector.Controls.ReconnectOverlay">
    
    <Border x:Name="OverlayBorder"
            Background="#80000000"
            IsVisible="{Binding IsReconnecting}"
            ZIndex="2000">
        
        <Grid>
            <!-- Reconnecting message -->
            <Border Background="{DynamicResource SurfaceBrush}"
                    BorderBrush="{DynamicResource PrimaryBrush}"
                    BorderThickness="3"
                    CornerRadius="16"
                    Padding="48,32"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    MaxWidth="400">
                
                <StackPanel Spacing="24" HorizontalAlignment="Center">
                    <!-- Spinning icon -->
                    <TextBlock Text="ðŸ”„" 
                               FontSize="64" 
                               HorizontalAlignment="Center">
                        <TextBlock.Styles>
                            <Style Selector="TextBlock">
                                <Style.Animations>
                                    <Animation Duration="0:0:2" IterationCount="INFINITE">
                                        <KeyFrame Cue="0%">
                                            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
                                        </KeyFrame>
                                        <KeyFrame Cue="100%">
                                            <Setter Property="RenderTransform" Value="rotate(360deg)"/>
                                        </KeyFrame>
                                    </Animation>
                                </Style.Animations>
                            </Style>
                        </TextBlock.Styles>
                    </TextBlock>
                    
                    <!-- Status text -->
                    <TextBlock x:Name="StatusText"
                               Text="Reconnecting..."
                               FontSize="24"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"/>
                    
                    <!-- Additional info -->
                    <TextBlock x:Name="InfoText"
                               Text="Please wait while we restore the connection"
                               FontSize="16"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</UserControl>
